<!DOCTYPE html>
<html lang="en">
	<!-- PLease copy the head for the fullcalendar and the scripts below -->
	<head>
		<meta charset="utf-8" />
		<!-- Customized CSS-->
		<link rel="stylesheet" href="css/globalstyle.css" />
		<!-- Font Awesome CSS CDN-->
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
		/>
		<!-- Bootstrap CSS-->
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<!-- FULLCALENDAR main css-->
		<link
			href="plugins/fullcalendar-4.4.2/packages/core/main.css"
			rel="stylesheet"
		/>
		<link
			href="plugins/fullcalendar-4.4.2/packages/daygrid/main.css"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="plugins/fullcalendar-4.4.2/packages/bootstrap/main.css"
		/>
		<link
			rel="stylesheet"
			href="plugins/fullcalendar-4.4.2/packages/timegrid/main.min.css"
		/>
		<link
			rel="stylesheet"
			href="plugins/fullcalendar-4.4.2/packages/list/main.min.css"
		/>
	</head>
	<body>
		<!-- Start of the body of the calendar-->
		<div class="container-fluid my-3">
			<div class="row align-items-center">
				<div class="col text-right ml-auto">
					<button
						type="button"
						class="btn btn-success"
						data-toggle="modal"
						data-target="#addEvent"
					>
						Add Event
					</button>

					<button
						type="button"
						class="btn btn-primary"
						data-toggle="modal"
						data-target="#editEvent"
					>
						Edit Event
					</button>
					<button
						type="button"
						class="btn btn-danger"
						data-toggle="modal"
						data-target="#deleteEvent"
					>
						Delete Event
					</button>
				</div>
			</div>
			<br />
			<div class="row">
				<div class="col-md-3">
					<div class="container-event card card-body px-3">
						<h6>Drag and Drop Events</h6>
						<div id="events">
							<div class="fc-event py-2 pl-2">
								Available <i class="fa fa-circle text-success"></i>
							</div>
							<div class="fc-event py-2 pl-2">
								Not Available <i class="fa fa-circle text-danger"></i>
							</div>
						</div>
						<p>
							<input type="checkbox" id="move-event" />
							<label for="move-event">Remove Event</label>
						</p>
						<p>
							<input type="text" id="input-event" class="form-control" />
							<button id="add-event" class="btn btn-outline-primary mt-2">
								Add Draggable
							</button>
						</p>
					</div>
				</div>
				<div class="col-md-9">
					<div class="card">
						<div class="card-body">
							<div id="calendar"></div>
						</div>
					</div>
				</div>
			</div>
			<!-- Modal for Add event-->
			<div
				class="modal fade"
				id="addEvent"
				tabindex="-1"
				role="dialog"
				aria-labelledby="exampleModalLongTitle"
				aria-hidden="true"
			>
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLongTitle">
								Add Event
							</h5>
							<button
								type="button"
								class="close"
								data-dismiss="modal"
								aria-label="Close"
							>
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="form-group">
								<label for="eventName">Event Name:</label>
								<input
									type="text"
									class="form-control"
									name="eventName"
									placeholder="Event Name"
								/>
							</div>
							<div class="form-group">
								<label for="eventName">Color:</label>
								<input type="color" class="form-control" name="color" />
							</div>
							<div class="form-group">
								<label for="startDate">Starting Date:</label>
								<input
									type="datetime-local"
									class="form-control"
									name="start_date"
								/>
							</div>
							<div class="form-group">
								<label for="endDate">End Date:</label>
								<input
									type="datetime-local"
									class="form-control"
									name="end_date"
								/>
							</div>
						</div>
						<div class="modal-footer">
							<button
								type="button"
								class="btn btn-outline-secondary"
								data-dismiss="modal"
							>
								Close
							</button>
							<button type="button" class="btn btn-success">
								Save Changes
							</button>
						</div>
					</div>
				</div>
			</div>
			<!-- Modal for Edit Event-->
			<div
				class="modal fade"
				id="editEvent"
				tabindex="-1"
				role="dialog"
				aria-labelledby="exampleModalLongTitle"
				aria-hidden="true"
			>
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="modal-title" id="exampleModalLongTitle">
								Edit Event
							</h5>
							<button
								type="button"
								class="close"
								data-dismiss="modal"
								aria-label="Close"
							>
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
						<div class="modal-body">
							<div class="form-group">
								<label for="editName"></label>
								<input type="" class="form-control" />
							</div>
						</div>
						<div class="modal-footer">
							<button
								type="button"
								class="btn btn-outline-secondary"
								data-dismiss="modal"
							>
								Close
							</button>
							<button type="button" class="btn btn-success">
								Save Changes
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Your Scripts here-->
		<!-- Scripts must always be below after the content to avoid laggy loading-->

		<!--Fullcalendar JS-->
		<script src="plugins/fullcalendar-4.4.2/packages/core/main.js"></script>
		<script src="plugins/fullcalendar-4.4.2/packages/daygrid/main.js"></script>
		<script src="plugins/fullcalendar-4.4.2/packages/bootstrap/main.min.js"></script>

		<!-- Timegrid and List JS-->
		<script src="plugins/fullcalendar-4.4.2/packages/timegrid/main.min.js"></script>
		<script src="plugins/fullcalendar-4.4.2/packages/list/main.min.js"></script>
		<!-- Interaction JS-->
		<script src="plugins/fullcalendar-4.4.2/packages/interaction/main.min.js"></script>
		<!-- Sweetalert CDN JS-->
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
		<!-- JQuery JS-->
		<script
			src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
			integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
			crossorigin="anonymous"
		></script>
		<!-- Popper JS-->
		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
			integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
			crossorigin="anonymous"
		></script>
		<!-- Bootstrap JS-->
		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
			integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
			crossorigin="anonymous"
		></script>

		<!-- Calendar Customized Script-->
		<script>
			/*event IDs
			 */
			var events = document.getElementById("events");
			var checkbox = document.getElementById("move-event");
			var input = document.getElementById("input-event");
			var button = document.getElementById("add-event");

			//interaction draggable is being called. This function represents that the events can be held
			new FullCalendarInteraction.Draggable(events, {
				itemSelector: ".fc-event",
				eventData: function (e) {
					return {
						title: e.innerText,
					};
				},
			});

			//button that makes the event
			button.addEventListener("click", function () {
				var div = document.createElement("div");
				var span = document.createElement("i");
				var inval = document.createTextNode(input.value);
				div.className = "fc-event py-2 pl-2";
				div.appendChild(inval);
				events.appendChild(div);
			});

			document.addEventListener("DOMContentLoaded", function () {
				var calendarEl = document.getElementById("calendar");

				var calendar = new FullCalendar.Calendar(calendarEl, {
					plugins: ["dayGrid", "timeGrid", "list", "bootstrap", "interaction"], // an array of strings!
					themeSystem: "bootstrap", //bootstrap theme
					weekNumbers: true, //numbers of the week
					eventLimit: true,
					events: "plugins/fullcalendar-4.4.2/examples/json/events.json",
					header: {
						// adds customized header in the calendar
						left: "prev,next today",
						center: "title",
						right: "dayGridMonth,timeGridWeek,timeGridDay,listMonth ",
					},
					/*
					footer: {
						//adds customized footer
						left: "prev,next today",
						right: "dayGridMonth,timeGridWeek,timeGridDay,listYear ",
					}, */
					editable: true,
					selectable: true,
					eventClick: function (info) {
						// when the event is clicked
						info.jsEvent.preventDefault();

						if (info.event.url) {
							window.open(info.event.url);
						} else {
							Swal.fire(
								info.event.title,
								"Start:" + info.event.start,
								"question"
							);
						}
					},
					droppable: true,
					drop: function (info) {
						if (checkbox.checked) {
							info.draggedEl.parentNode.removeChild(info.draggedEl);
						}
					},
				});
				calendar.render();
			});
		</script>
	</body>
</html>
